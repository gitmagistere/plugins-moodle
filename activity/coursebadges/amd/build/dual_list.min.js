define(["jquery","jqueryui"],function(a){function b(){a("body").on("click",".list-group .list-group-item .badge-content",function(){if(!a(this).parents("td").hasClass("read-only")&&!a(this).parents("td").hasClass("no-modif")){a(this).parents(".list-group-item").toggleClass("active");var b=a(this).find("input[type=checkbox]");b.attr("checked",!b.attr("checked"))}}),a("body").on("click",".action-btn",function(){var b=a(this).parents(".list-group-item").find(".badge-detail"),c=a(this).find("i");c.hasClass("fa-sort-up")||c.hasClass("fa-sort-asc")?(b.show(),c.removeClass("fa-sort-up").addClass("fa-sort-down"),c.removeClass("fa-sort-asc").addClass("fa-sort-desc")):(b.hide(),c.removeClass("fa-sort-down").addClass("fa-sort-up"),c.removeClass("fa-sort-desc").addClass("fa-sort-asc"))}),a(".list-arrows button").click(function(){var b=a(this),e="";b.hasClass("move-left")?(e=a(".list-right ul.list-group li.list-group-item.active"),e.clone().appendTo(".list-left ul.list-group"),e.remove()):b.hasClass("move-right")&&(e=a(".list-left ul.list-group li.list-group-item.active"),e.clone().appendTo(".list-right ul.list-group"),e.remove()),c(".list-left"),c(".list-right");var f=a(".list-right ul.list-group li.list-group-item");a('input[name="rightlistids"]').val(d(f));var g=a(".list-left ul.list-group li.list-group-item");a('input[name="leftlistids"]').val(d(g))}),a(".dual-list .selector").click(function(){var b=a(this);b.hasClass("selected")?b.removeClass("selected").closest(".content").find("ul.list-group li.list-group-item.active").removeClass("active"):b.addClass("selected").closest(".content").find("ul.list-group li.list-group-item:not(.active)").addClass("active")}),a("#id_changebadgeselections").click(function(b){b.preventDefault(),a("#dialog_change_badge_selections").show(),a("#dialog_change_badge_selections").dialog("open")}),a("#dialog_change_badge_selections").dialog({autoOpen:!1,width:400,title:"Modifier les badges propos√©s",draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:"Fermer",buttons:[{text:"Oui",id:"btValidate",click:function(){window.location.href=window.location.href+"&dbs=1"}},{text:"Annuler",id:"btCancel",click:function(){a(this).dialog("close")}}]})}function c(b){var c=a(b+" ul.list-group").find("li.list-group-item"),d=Array.prototype.sort.bind(c);d(function(b,c){var d=a(b).find(".badge-title").text(),e=a(c).find(".badge-title").text();return d<e?-1:d>e?1:0}),a(b+" ul.list-group").append(c)}function d(a){var b=0,c=a.length,d="";if(c>0){var e;for(e in a)"LI"==a[e].tagName&&(d+=b==c-1?a[e].value:a[e].value+",",b++)}return d}return{init:function(){b()}}});